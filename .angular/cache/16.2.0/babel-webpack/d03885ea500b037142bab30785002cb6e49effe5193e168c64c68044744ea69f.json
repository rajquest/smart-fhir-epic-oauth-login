{"ast":null,"code":"import { AuthService } from './services/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/auth.service\";\nimport * as i2 from \"@angular/router\";\nexport let AppComponent = /*#__PURE__*/(() => {\n  var _class;\n  class AppComponent {\n    // Inject FhirService into launch component\n    constructor(_authService) {\n      this._authService = _authService;\n      this.title = 'epic-fhir';\n      this.isLoggedIn = false;\n      this._authService.loginChanged.subscribe(loggedIn => {\n        this.isLoggedIn = loggedIn;\n      });\n    }\n    ngOnInit() {\n      this._authService.isLoggedIn().then(loggedIn => {\n        this.isLoggedIn = loggedIn;\n      });\n      // Leave serviceUri undefined if application will be launched by EHR application\n      //let launchConfig = {\n      //  serviceUri: \"https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/DSTU2/metadata\",\n      //  clientId: \"8b1b3090-4854-4166-b8a4-e747b3b0a7ee\",\n      //  scope: \"patient/*.read launch/patient\",\n      //  state: Math.round(Math.random() * 100000000).toString(),\n      //  responseType: \"code\",\n      //  launchEndpoint: \"launch\",\n      //  redirectEndpoint: \"https://localhost:4200\",\n      //};\n      //this.fhirService..launch(launchConfig);\n    }\n\n    loginOAuthPatient() {\n      console.log(\"Patient Login button clicked\");\n      this._authService.login();\n    }\n    loginOAuthProvider() {\n      console.log(\"Patient Login button clicked\");\n      this._authService.login();\n    }\n  }\n  _class = AppComponent;\n  _class.ɵfac = function AppComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.AuthService));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-root\"]],\n    decls: 7,\n    vars: 0,\n    consts: [[2, \"background-color\", \"#2471A3\", \"margin-left\", \"100px\", \"color\", \"#ffffff\", \"height\", \"40px\", 3, \"click\"], [2, \"background-color\", \"#E74C3C\", \"margin-left\", \"100px\", \"color\", \"#ffffff\", \"height\", \"40px\", 3, \"click\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"br\")(1, \"br\");\n        i0.ɵɵelementStart(2, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_2_listener() {\n          return ctx.loginOAuthPatient();\n        });\n        i0.ɵɵtext(3, \" Epic MyChart Patient Login\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_button_click_4_listener() {\n          return ctx.loginOAuthProvider();\n        });\n        i0.ɵɵtext(5, \" Epic MyChart Provider Login\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"router-outlet\");\n      }\n    },\n    dependencies: [i2.RouterOutlet]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}