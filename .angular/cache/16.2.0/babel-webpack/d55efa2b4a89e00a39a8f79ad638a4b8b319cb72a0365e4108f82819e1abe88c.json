{"ast":null,"code":"(function () {\n  var mw = require('./core');\n\n  // List of resources with 'patient' or 'subject' properties (as of FHIR DSTU2 1.0.0)\n  var targets = [\"Account\", \"AllergyIntolerance\", \"BodySite\", \"CarePlan\", \"Claim\", \"ClinicalImpression\", \"Communication\", \"CommunicationRequest\", \"Composition\", \"Condition\", \"Contract\", \"DetectedIssue\", \"Device\", \"DeviceUseRequest\", \"DeviceUseStatement\", \"DiagnosticOrder\", \"DiagnosticReport\", \"DocumentManifest\", \"DocumentReference\", \"Encounter\", \"EnrollmentRequest\", \"EpisodeOfCare\", \"FamilyMemberHistory\", \"Flag\", \"Goal\", \"ImagingObjectSelection\", \"ImagingStudy\", \"Immunization\", \"ImmunizationRecommendation\", \"List\", \"Media\", \"MedicationAdministration\", \"MedicationDispense\", \"MedicationOrder\", \"MedicationStatement\", \"NutritionOrder\", \"Observation\", \"Order\", \"Procedure\", \"ProcedureRequest\", \"QuestionnaireResponse\", \"ReferralRequest\", \"RelatedPerson\", \"RiskAssessment\", \"Specimen\", \"SupplyDelivery\", \"SupplyRequest\", \"VisionPrescription\"];\n  exports.$WithPatient = mw.$$Simple(function (args) {\n    var type = args.type;\n    if (args.patient) {\n      if (type === \"Patient\") {\n        args.query = args.query || {};\n        args.query[\"_id\"] = args.patient;\n        args[\"id\"] = args.patient;\n      } else if (targets.indexOf(type) >= 0) {\n        args.query = args.query || {};\n        args.query[\"patient\"] = args.patient;\n      }\n    }\n    return args;\n  });\n}).call(this);","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}